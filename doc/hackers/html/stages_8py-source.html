<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Life Fighter: stages.py Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<h1>stages.py</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a><a class="code" href="namespacestages.html">00001</a> <span class="comment">#Import Modules</span>
<a name="l00002"></a>00002 <span class="comment"># -*- coding: latin-1 -*-</span>
<a name="l00003"></a>00003 
<a name="l00004"></a>00004 <span class="keyword">import</span> os, sys, random, pickle
<a name="l00005"></a>00005 
<a name="l00006"></a>00006 <span class="keyword">import</span> pygame
<a name="l00007"></a>00007 <span class="keyword">from</span> pygame.locals <span class="keyword">import</span> *
<a name="l00008"></a>00008 <span class="keyword">from</span> pygame.time <span class="keyword">import</span> set_timer
<a name="l00009"></a>00009 
<a name="l00010"></a>00010 <span class="keyword">from</span> settings <span class="keyword">import</span> *
<a name="l00011"></a>00011 <span class="keyword">from</span> utils <span class="keyword">import</span> *
<a name="l00012"></a>00012 <span class="keyword">from</span> life <span class="keyword">import</span> Pattern
<a name="l00013"></a>00013 
<a name="l00014"></a>00014 
<a name="l00015"></a>00015 <span class="comment">#Classes definition</span>
<a name="l00016"></a>00016 
<a name="l00017"></a><a class="code" href="classstages_1_1Stage.html">00017</a> <span class="keyword">class </span><a class="code" href="classstages_1_1Stage.html">Stage</a>(object):
<a name="l00018"></a>00018     <span class="stringliteral">'''A stage is what you see at the screen while playing..'''</span>
<a name="l00019"></a><a class="code" href="classstages_1_1Stage.html#62d8d3feb38705360b8ac3d0697c5960">00019</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Stage.html#62d8d3feb38705360b8ac3d0697c5960">__init__</a>(self, clock, screen, bg, grid):
<a name="l00020"></a><a class="code" href="classstages_1_1Stage.html#c716ee7378b2117610fd95314d28b4c7">00020</a>         self.<a class="code" href="classstages_1_1Stage.html#c716ee7378b2117610fd95314d28b4c7">clock</a>clock = clock
<a name="l00021"></a><a class="code" href="classstages_1_1Stage.html#2ebc4cadac1bbcdb1aec650bb00f1bdf">00021</a>         self.<a class="code" href="classstages_1_1Stage.html#2ebc4cadac1bbcdb1aec650bb00f1bdf">screen</a>screen = screen
<a name="l00022"></a><a class="code" href="classstages_1_1Stage.html#2285d7259b160870a0a01221ce7f0e71">00022</a>         self.<a class="code" href="classstages_1_1Stage.html#2285d7259b160870a0a01221ce7f0e71">background</a>background = bg.copy()
<a name="l00023"></a><a class="code" href="classstages_1_1Stage.html#ad07deef84fa3540dfc2a7ee38e96096">00023</a>         self.<a class="code" href="classstages_1_1Stage.html#ad07deef84fa3540dfc2a7ee38e96096">grid</a>grid = grid
<a name="l00024"></a><a class="code" href="classstages_1_1Stage.html#493eda2344137e3c0b5a01eb3f640352">00024</a>         self.<a class="code" href="classstages_1_1Stage.html#493eda2344137e3c0b5a01eb3f640352">cells_group</a>cells_group = pygame.sprite.RenderUpdates()
<a name="l00025"></a>00025         self.<a class="code" href="classstages_1_1Stage.html#493eda2344137e3c0b5a01eb3f640352">cells_group</a>cells_group.add(self.<a class="code" href="classstages_1_1Stage.html#ad07deef84fa3540dfc2a7ee38e96096">grid</a>grid.cells.values())
<a name="l00026"></a><a class="code" href="classstages_1_1Stage.html#325745572c7f014c2ac22302caf74751">00026</a>         self.<a class="code" href="classstages_1_1Stage.html#325745572c7f014c2ac22302caf74751">redraw_group</a>redraw_group = pygame.sprite.RenderUpdates()
<a name="l00027"></a>00027 
<a name="l00028"></a><a class="code" href="classstages_1_1Stage.html#2330f652caaa94beaa92ad1715c10fa2">00028</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Stage.html#2330f652caaa94beaa92ad1715c10fa2">control</a>(self, event):
<a name="l00029"></a>00029         <span class="keywordflow">if</span> event.type == QUIT:
<a name="l00030"></a>00030             sys.exit(0)
<a name="l00031"></a>00031         <span class="keywordflow">if</span> event.type == KEYDOWN:
<a name="l00032"></a>00032             <span class="keywordflow">if</span> event.key == K_SPACE:
<a name="l00033"></a>00033                 self.<a class="code" href="classstages_1_1Stage.html#4aec97247715ba06774f5f67fe57204f">_beat</a>_beat()
<a name="l00034"></a>00034             <span class="keywordflow">if</span> event.key == K_ESCAPE:
<a name="l00035"></a>00035                 self.quit()
<a name="l00036"></a>00036 
<a name="l00037"></a>00037     <span class="keyword">def </span>_beat(self):
<a name="l00038"></a>00038         self.<a class="code" href="classstages_1_1Stage.html#ad07deef84fa3540dfc2a7ee38e96096">grid</a>grid.beat()
<a name="l00039"></a>00039 
<a name="l00040"></a><a class="code" href="classstages_1_1Game.html">00040</a> <span class="keyword">class </span><a class="code" href="classstages_1_1Game.html">Game</a>(<a class="code" href="classstages_1_1Stage.html">Stage</a>):
<a name="l00041"></a>00041     <span class="stringliteral">'''An abstract game'''</span>
<a name="l00042"></a>00042 
<a name="l00043"></a><a class="code" href="classstages_1_1Game.html#6c54f0cefa5ae0f394baf8d4c91f9fd2">00043</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Game.html#6c54f0cefa5ae0f394baf8d4c91f9fd2">__init__</a>(self, clock, screen, bg, grid):
<a name="l00044"></a>00044         Stage.__init__(self, clock, screen, bg, grid)
<a name="l00045"></a><a class="code" href="classstages_1_1Game.html#4f39f7679885dcb877c4af4091ef75bb">00045</a>         self.<a class="code" href="classstages_1_1Game.html#4f39f7679885dcb877c4af4091ef75bb">level</a>level = 0
<a name="l00046"></a><a class="code" href="classstages_1_1Game.html#cac83cd322f8d2ffd2622dbff72cc137">00046</a>         self.<a class="code" href="classstages_1_1Game.html#cac83cd322f8d2ffd2622dbff72cc137">points</a>points = 0
<a name="l00047"></a><a class="code" href="classstages_1_1Game.html#8f2512a03b9ff026d9fa0d5b3ac4dbea">00047</a>         self.<a class="code" href="classstages_1_1Game.html#8f2512a03b9ff026d9fa0d5b3ac4dbea">playing</a>playing = <span class="keyword">True</span>
<a name="l00048"></a><a class="code" href="classstages_1_1Game.html#4b8febac81e3f9dc89cd7e06c7623647">00048</a>         self.<a class="code" href="classstages_1_1Game.html#4b8febac81e3f9dc89cd7e06c7623647">coin_value</a>coin_value = 1
<a name="l00049"></a><a class="code" href="classstages_1_1Game.html#b2bc330fb50a6a61b49bc755a4c24e8f">00049</a>         self.<a class="code" href="classstages_1_1Game.html#b2bc330fb50a6a61b49bc755a4c24e8f">name</a>name = self.<a class="code" href="classstages_1_1Game.html#b577a5e819820a43aa82a453aeb9b023">_load_cells</a>_load_cells()
<a name="l00050"></a>00050         <span class="keywordflow">print</span> self.<a class="code" href="classstages_1_1Game.html#b2bc330fb50a6a61b49bc755a4c24e8f">name</a>name
<a name="l00051"></a>00051         self.<a class="code" href="classstages_1_1Game.html#4dcf1905c7f8cb42cf0afcd17ff341fc">_add_labels</a>_add_labels()
<a name="l00052"></a>00052         self.redraw_group.add(self.<a class="code" href="classstages_1_1Game.html#8550299d7398613f1fb8db54ce143b47">score</a>score)
<a name="l00053"></a>00053 
<a name="l00054"></a><a class="code" href="classstages_1_1Game.html#374ed060beeba735c067e639765def92">00054</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Game.html#374ed060beeba735c067e639765def92">control</a>(self, event):
<a name="l00055"></a>00055         Stage.control(self, event)
<a name="l00056"></a>00056         grid = self.grid
<a name="l00057"></a>00057         <span class="keywordflow">if</span> event.type == KEYDOWN:
<a name="l00058"></a>00058             <span class="keywordflow">if</span> event.key == K_LEFT:
<a name="l00059"></a>00059                 grid.hero_left()
<a name="l00060"></a>00060             <span class="keywordflow">elif</span> event.key == K_RIGHT:
<a name="l00061"></a>00061                 grid.hero_right()
<a name="l00062"></a>00062             <span class="keywordflow">elif</span> event.key == K_UP:
<a name="l00063"></a>00063                 grid.hero_up()
<a name="l00064"></a>00064             <span class="keywordflow">elif</span> event.key == K_DOWN:
<a name="l00065"></a>00065                 grid.hero_down()
<a name="l00066"></a>00066             <span class="keywordflow">elif</span> event.key == K_n:
<a name="l00067"></a>00067                 self.<a class="code" href="classstages_1_1Game.html#6b21121e5e1de1aa63bee681017a7c4e">next_level</a>next_level()
<a name="l00068"></a>00068             <span class="keywordflow">elif</span> event.key == K_s:
<a name="l00069"></a>00069                 <span class="keywordflow">print</span> <span class="stringliteral">"on/off sounds"</span>
<a name="l00070"></a>00070             <span class="keywordflow">elif</span> event.key == K_m:
<a name="l00071"></a>00071                 <span class="keywordflow">print</span> <span class="stringliteral">"on/off music"</span>
<a name="l00072"></a>00072             <span class="keywordflow">elif</span> event.key == K_p:
<a name="l00073"></a>00073                 <span class="keywordflow">print</span> <span class="stringliteral">"pause game"</span>
<a name="l00074"></a>00074                 
<a name="l00075"></a><a class="code" href="classstages_1_1Game.html#bb5d7218aac7ef9bf287011a1f1752d0">00075</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Game.html#bb5d7218aac7ef9bf287011a1f1752d0">main_loop</a>(self):
<a name="l00076"></a>00076         <span class="keywordflow">while</span> self.<a class="code" href="classstages_1_1Game.html#8f2512a03b9ff026d9fa0d5b3ac4dbea">playing</a>playing:
<a name="l00077"></a>00077 
<a name="l00078"></a>00078             self.clock.tick(10) <span class="comment">#slower than 10 frame per second</span>
<a name="l00079"></a>00079 
<a name="l00080"></a>00080             <span class="keywordflow">for</span> event <span class="keywordflow">in</span> pygame.event.get():
<a name="l00081"></a>00081                 self.<a class="code" href="classstages_1_1Game.html#374ed060beeba735c067e639765def92">control</a>control(event)
<a name="l00082"></a>00082 
<a name="l00083"></a>00083             self.screen.blit(self.background, (0,0))    
<a name="l00084"></a>00084             self.screen.blit(self.grid.image, self.grid.rect)
<a name="l00085"></a>00085             self.cells_group.draw(self.screen)
<a name="l00086"></a>00086             self.<a class="code" href="classstages_1_1Game.html#25f233b97a3e38ba3ad64f3244c1e81b">update_sprites</a>update_sprites()
<a name="l00087"></a>00087             self.redraw_group.draw(self.screen)
<a name="l00088"></a>00088             pygame.display.flip() <span class="comment"># USE UPDATE</span>
<a name="l00089"></a>00089 
<a name="l00090"></a>00090             <span class="keywordflow">if</span> <span class="keywordflow">not</span> self.grid.is_hero_alive():
<a name="l00091"></a>00091                 self.<a class="code" href="classstages_1_1Game.html#49d2f657b3e67a619e24c27d4d573fc7">finish_game</a>finish_game()
<a name="l00092"></a>00092 
<a name="l00093"></a><a class="code" href="classstages_1_1Game.html#8e78d8ebfe8eded9894cf5b60fdd99e2">00093</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Game.html#8e78d8ebfe8eded9894cf5b60fdd99e2">quit</a>(self):
<a name="l00094"></a>00094         self.<a class="code" href="classstages_1_1Game.html#8f2512a03b9ff026d9fa0d5b3ac4dbea">playing</a>playing = <span class="keyword">False</span>
<a name="l00095"></a>00095 
<a name="l00096"></a><a class="code" href="classstages_1_1Game.html#25f233b97a3e38ba3ad64f3244c1e81b">00096</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Game.html#25f233b97a3e38ba3ad64f3244c1e81b">update_sprites</a>(self):
<a name="l00097"></a>00097         self.<a class="code" href="classstages_1_1Game.html#8550299d7398613f1fb8db54ce143b47">score</a>score.update(self.<a class="code" href="classstages_1_1Game.html#cac83cd322f8d2ffd2622dbff72cc137">points</a>points)
<a name="l00098"></a>00098         
<a name="l00099"></a>00099     <span class="keyword">def </span>_load_cells(self):
<a name="l00100"></a>00100         <span class="stringliteral">'''Randomly load a previusly persisted cells poblation'''</span>
<a name="l00101"></a>00101 
<a name="l00102"></a>00102         self.grid.kill_all()
<a name="l00103"></a>00103         
<a name="l00104"></a>00104         pobs = [p <span class="keywordflow">for</span> p <span class="keywordflow">in</span> os.listdir(GAME_CELLS) <span class="keywordflow">if</span> p.endswith(<span class="stringliteral">".pob"</span>)]
<a name="l00105"></a>00105         name = random.choice(pobs)
<a name="l00106"></a>00106         pob = pickle.load(open(os.path.join(GAME_CELLS, name)))
<a name="l00107"></a>00107         self.grid.add_living_cells(pob)
<a name="l00108"></a>00108         i,j = random.choice(pob)
<a name="l00109"></a>00109         self.grid.set_hero(i,j)
<a name="l00110"></a>00110 
<a name="l00111"></a>00111         <span class="keywordflow">return</span> name[0].upper() + name[1:-4].lower()
<a name="l00112"></a>00112 
<a name="l00113"></a>00113     <span class="keyword">def </span>_beat(self):
<a name="l00114"></a>00114         Stage._beat(self)
<a name="l00115"></a>00115         <span class="keywordflow">if</span> self.grid.is_hero_alive():
<a name="l00116"></a>00116             self.<a class="code" href="classstages_1_1Game.html#a0ec34c70a47e34c80a7f6a362c690e0">update_points</a>update_points()
<a name="l00117"></a>00117             
<a name="l00118"></a>00118     <span class="keyword">def </span>_add_labels(self):
<a name="l00119"></a>00119         
<a name="l00120"></a>00120         text = self.title + <span class="stringliteral">": "</span> + self.<a class="code" href="classstages_1_1Game.html#b2bc330fb50a6a61b49bc755a4c24e8f">name</a>name
<a name="l00121"></a>00121         font = pygame.font.Font(FONT1, 40)
<a name="l00122"></a>00122         w,h = font.size(text)
<a name="l00123"></a>00123         x = x_off + (n1 * step - w) / 2
<a name="l00124"></a>00124         y = (y_off - h) / 2
<a name="l00125"></a>00125         img = font.render(text, <span class="keyword">True</span>, title_color)
<a name="l00126"></a>00126         <span class="comment">#img = textOutline(font, text, title_color, black)</span>
<a name="l00127"></a>00127         self.background.blit(img, (x,y))
<a name="l00128"></a>00128 
<a name="l00129"></a>00129         text = <span class="stringliteral">"Score"</span>
<a name="l00130"></a>00130         font = pygame.font.Font(FONT1, 30)
<a name="l00131"></a>00131         w,h = font.size(text)
<a name="l00132"></a>00132         a = x_off + step * n1
<a name="l00133"></a>00133         x = a + (width - a - w) / 2 
<a name="l00134"></a>00134         y = y_off
<a name="l00135"></a>00135         img = font.render(text, <span class="keyword">True</span>, score_color)
<a name="l00136"></a>00136         <span class="comment">#img = textOutline(font, text, score_color, black)</span>
<a name="l00137"></a>00137         self.background.blit(img, (x,y))
<a name="l00138"></a>00138 
<a name="l00139"></a><a class="code" href="classstages_1_1Game.html#8550299d7398613f1fb8db54ce143b47">00139</a>         self.<a class="code" href="classstages_1_1Game.html#8550299d7398613f1fb8db54ce143b47">score</a>score = Score(w, x, y + h)
<a name="l00140"></a>00140 
<a name="l00141"></a>00141         self.<a class="code" href="classstages_1_1Game.html#f14d71f8d1842c53d54a04d7e36d41ca">_add_specific_labels</a>_add_specific_labels()
<a name="l00142"></a>00142 
<a name="l00143"></a>00143     <span class="keyword">def </span>_add_specific_labels(self):
<a name="l00144"></a>00144         <span class="keywordflow">pass</span>
<a name="l00145"></a>00145 
<a name="l00146"></a><a class="code" href="classstages_1_1Game.html#a0ec34c70a47e34c80a7f6a362c690e0">00146</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Game.html#a0ec34c70a47e34c80a7f6a362c690e0">update_points</a>(self):
<a name="l00147"></a>00147         self.points += self.coin_value
<a name="l00148"></a>00148         <span class="keywordflow">print</span> self.points
<a name="l00149"></a>00149 
<a name="l00150"></a><a class="code" href="classstages_1_1Game.html#6b21121e5e1de1aa63bee681017a7c4e">00150</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Game.html#6b21121e5e1de1aa63bee681017a7c4e">next_level</a>(self):
<a name="l00151"></a>00151         self.<a class="code" href="classstages_1_1Game.html#4f39f7679885dcb877c4af4091ef75bb">level</a>level += 1
<a name="l00152"></a>00152         self.<a class="code" href="classstages_1_1Game.html#4b8febac81e3f9dc89cd7e06c7623647">coin_value</a>coin_value *= 2
<a name="l00153"></a>00153         
<a name="l00154"></a><a class="code" href="classstages_1_1Game.html#49d2f657b3e67a619e24c27d4d573fc7">00154</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Game.html#49d2f657b3e67a619e24c27d4d573fc7">finish_game</a>(self):
<a name="l00155"></a>00155         <span class="keywordflow">print</span> <span class="stringliteral">"Game has finished: %i points"</span> % self.<a class="code" href="classstages_1_1Game.html#cac83cd322f8d2ffd2622dbff72cc137">points</a>points
<a name="l00156"></a>00156         self.<a class="code" href="classstages_1_1Game.html#8f2512a03b9ff026d9fa0d5b3ac4dbea">playing</a>playing = <span class="keyword">False</span>
<a name="l00157"></a>00157 
<a name="l00158"></a>00158                         
<a name="l00159"></a><a class="code" href="classstages_1_1Train.html">00159</a> <span class="keyword">class </span><a class="code" href="classstages_1_1Train.html">Train</a>(<a class="code" href="classstages_1_1Game.html">Game</a>):
<a name="l00160"></a>00160     <span class="stringliteral">'''A game for training yourself'''</span>
<a name="l00161"></a>00161 
<a name="l00162"></a><a class="code" href="classstages_1_1Train.html#b8ca2b3e67cc84c0fff20970cdf63308">00162</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Train.html#b8ca2b3e67cc84c0fff20970cdf63308">__init__</a>(self, clock, screen, bg, grid):
<a name="l00163"></a><a class="code" href="classstages_1_1Train.html#9696a3656c38c830f23c3ffc0cb77b28">00163</a>         self.<a class="code" href="classstages_1_1Train.html#9696a3656c38c830f23c3ffc0cb77b28">title</a>title = TRAIN_TITLE
<a name="l00164"></a>00164         Game.__init__(self, clock, screen, bg, grid)
<a name="l00165"></a>00165         
<a name="l00166"></a><a class="code" href="classstages_1_1Train.html#e97a64f02049d2bdadaa606e83a984a3">00166</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Train.html#e97a64f02049d2bdadaa606e83a984a3">control</a>(self, event):
<a name="l00167"></a>00167         Game.control(self, event)
<a name="l00168"></a>00168 
<a name="l00169"></a>00169 
<a name="l00170"></a><a class="code" href="classstages_1_1Moves.html">00170</a> <span class="keyword">class </span><a class="code" href="classstages_1_1Moves.html">Moves</a>(<a class="code" href="classstages_1_1Game.html">Game</a>):
<a name="l00171"></a>00171     <span class="stringliteral">'''A game where moves count'''</span>
<a name="l00172"></a>00172 
<a name="l00173"></a><a class="code" href="classstages_1_1Moves.html#b1b0c07709b55df41375dc0cc945c4dc">00173</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Moves.html#b1b0c07709b55df41375dc0cc945c4dc">__init__</a>(self, clock, screen, bg, grid):
<a name="l00174"></a><a class="code" href="classstages_1_1Moves.html#cdf583563599076a990826e2b2d8ee6a">00174</a>         self.<a class="code" href="classstages_1_1Moves.html#cdf583563599076a990826e2b2d8ee6a">title</a>title = MOVES_TITLE
<a name="l00175"></a>00175         Game.__init__(self, clock, screen, bg, grid)
<a name="l00176"></a><a class="code" href="classstages_1_1Moves.html#b761878cb3bcc2f1a472e33f235772c7">00176</a>         self.<a class="code" href="classstages_1_1Moves.html#b761878cb3bcc2f1a472e33f235772c7">max_moves</a>max_moves = 10
<a name="l00177"></a><a class="code" href="classstages_1_1Moves.html#9d9a690ac6aa25a8cf50ae6d353c3336">00177</a>         self.<a class="code" href="classstages_1_1Moves.html#9d9a690ac6aa25a8cf50ae6d353c3336">moves</a>moves = self.<a class="code" href="classstages_1_1Moves.html#b761878cb3bcc2f1a472e33f235772c7">max_moves</a>max_moves
<a name="l00178"></a>00178         self.redraw_group.add(self.<a class="code" href="classstages_1_1Moves.html#7de088a510c0c2bf3c54e549680243a6">stepCounter</a>stepCounter)
<a name="l00179"></a>00179 
<a name="l00180"></a><a class="code" href="classstages_1_1Moves.html#971e100ab7cdac616244663460acb04c">00180</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Moves.html#971e100ab7cdac616244663460acb04c">control</a>(self, event):
<a name="l00181"></a>00181         i,j = self.grid.get_hero()
<a name="l00182"></a>00182         Game.control(self, event)
<a name="l00183"></a>00183         <span class="keywordflow">if</span> (i,j) != self.grid.get_hero():
<a name="l00184"></a>00184             self.<a class="code" href="classstages_1_1Moves.html#9d9a690ac6aa25a8cf50ae6d353c3336">moves</a>moves -= 1
<a name="l00185"></a>00185             <span class="keywordflow">if</span> self.<a class="code" href="classstages_1_1Moves.html#9d9a690ac6aa25a8cf50ae6d353c3336">moves</a>moves == 0:
<a name="l00186"></a>00186                 self.<a class="code" href="classstages_1_1Moves.html#516ed9abf6925ed6e5df21e6de6d6283">_beat</a>_beat()
<a name="l00187"></a>00187 
<a name="l00188"></a><a class="code" href="classstages_1_1Moves.html#f1899c8cd9e7f6c04842c00a0840494a">00188</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Moves.html#f1899c8cd9e7f6c04842c00a0840494a">update_sprites</a>(self):
<a name="l00189"></a>00189         Game.update_sprites(self)
<a name="l00190"></a>00190         self.<a class="code" href="classstages_1_1Moves.html#7de088a510c0c2bf3c54e549680243a6">stepCounter</a>stepCounter.update(self.<a class="code" href="classstages_1_1Moves.html#9d9a690ac6aa25a8cf50ae6d353c3336">moves</a>moves)
<a name="l00191"></a>00191 
<a name="l00192"></a>00192     <span class="keyword">def </span>_beat(self):
<a name="l00193"></a>00193         Game._beat(self)
<a name="l00194"></a>00194         self.<a class="code" href="classstages_1_1Moves.html#9d9a690ac6aa25a8cf50ae6d353c3336">moves</a>moves = self.<a class="code" href="classstages_1_1Moves.html#b761878cb3bcc2f1a472e33f235772c7">max_moves</a>max_moves
<a name="l00195"></a>00195 
<a name="l00196"></a>00196     <span class="keyword">def </span>_add_specific_labels(self):
<a name="l00197"></a>00197         text = <span class="stringliteral">"Moves"</span>
<a name="l00198"></a>00198         font = pygame.font.Font(FONT1, 30)
<a name="l00199"></a>00199         w,h = font.size(text)
<a name="l00200"></a>00200         a = x_off + step * n1
<a name="l00201"></a>00201         x = a + (width - a - w) / 2 
<a name="l00202"></a>00202         y = y_off + 100
<a name="l00203"></a>00203         img = font.render(text, <span class="keyword">True</span>, score_color)
<a name="l00204"></a>00204         <span class="comment">#img = textOutline(font, text, score_color, black)</span>
<a name="l00205"></a>00205         self.background.blit(img, (x,y))
<a name="l00206"></a>00206 
<a name="l00207"></a><a class="code" href="classstages_1_1Moves.html#7de088a510c0c2bf3c54e549680243a6">00207</a>         self.<a class="code" href="classstages_1_1Moves.html#7de088a510c0c2bf3c54e549680243a6">stepCounter</a>stepCounter = StepCounter(w, x, y + h, 10)
<a name="l00208"></a>00208 
<a name="l00209"></a><a class="code" href="classstages_1_1Moves.html#dd2340f84956731d52d775292ba89ad7">00209</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Moves.html#dd2340f84956731d52d775292ba89ad7">next_level</a>(self):
<a name="l00210"></a>00210         Game.next_level(self)
<a name="l00211"></a>00211         self.<a class="code" href="classstages_1_1Moves.html#b761878cb3bcc2f1a472e33f235772c7">max_moves</a>max_moves -= 1
<a name="l00212"></a>00212         self.<a class="code" href="classstages_1_1Moves.html#516ed9abf6925ed6e5df21e6de6d6283">_beat</a>_beat()
<a name="l00213"></a>00213 
<a name="l00214"></a>00214        
<a name="l00215"></a><a class="code" href="classstages_1_1Clock.html">00215</a> <span class="keyword">class </span><a class="code" href="classstages_1_1Clock.html">Clock</a>(<a class="code" href="classstages_1_1Game.html">Game</a>):
<a name="l00216"></a>00216     <span class="stringliteral">'''A game where time matters'''</span>
<a name="l00217"></a>00217 
<a name="l00218"></a><a class="code" href="classstages_1_1Clock.html#cb1a755f6bfa7eb2313536d776412076">00218</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Clock.html#cb1a755f6bfa7eb2313536d776412076">__init__</a>(self, clock, screen, bg, grid):
<a name="l00219"></a><a class="code" href="classstages_1_1Clock.html#7fa85dad53a5f6975e00c987ee79a040">00219</a>         self.<a class="code" href="classstages_1_1Clock.html#7fa85dad53a5f6975e00c987ee79a040">title</a>title = CLOCK_TITLE
<a name="l00220"></a>00220         Game.__init__(self, clock, screen, bg, grid)
<a name="l00221"></a><a class="code" href="classstages_1_1Clock.html#0210187075a02073bd1868de97200382">00221</a>         self.<a class="code" href="classstages_1_1Clock.html#0210187075a02073bd1868de97200382">max_time</a>max_time = 10 * SECOND 
<a name="l00222"></a><a class="code" href="classstages_1_1Clock.html#0320b7ccf534411559f3bfcc35f58a52">00222</a>         self.<a class="code" href="classstages_1_1Clock.html#0320b7ccf534411559f3bfcc35f58a52">time</a>time = self.<a class="code" href="classstages_1_1Clock.html#0210187075a02073bd1868de97200382">max_time</a>max_time
<a name="l00223"></a>00223         self.redraw_group.add(self.<a class="code" href="classstages_1_1Clock.html#ed2fe2e11896ae4441cf0663dbc752ef">timer</a>timer)
<a name="l00224"></a>00224         set_timer(TIMEEVENT, SECOND)
<a name="l00225"></a>00225 
<a name="l00226"></a><a class="code" href="classstages_1_1Clock.html#aab80122bfccbe13f9643020e9a8235a">00226</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Clock.html#aab80122bfccbe13f9643020e9a8235a">control</a>(self, event):
<a name="l00227"></a>00227         Game.control(self, event)
<a name="l00228"></a>00228         <span class="keywordflow">if</span> event.type == TIMEEVENT:
<a name="l00229"></a>00229             self.<a class="code" href="classstages_1_1Clock.html#0320b7ccf534411559f3bfcc35f58a52">time</a>time -= SECOND
<a name="l00230"></a>00230             <span class="keywordflow">if</span> self.<a class="code" href="classstages_1_1Clock.html#0320b7ccf534411559f3bfcc35f58a52">time</a>time == 0:
<a name="l00231"></a>00231                 self.<a class="code" href="classstages_1_1Clock.html#910e66ad8d5c4cbca199fa9aacd6e0b3">_beat</a>_beat()
<a name="l00232"></a>00232 
<a name="l00233"></a><a class="code" href="classstages_1_1Clock.html#09339c8e103aa473d2c8e70203fc8946">00233</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Clock.html#09339c8e103aa473d2c8e70203fc8946">update_sprites</a>(self):
<a name="l00234"></a>00234         Game.update_sprites(self)
<a name="l00235"></a>00235         self.<a class="code" href="classstages_1_1Clock.html#ed2fe2e11896ae4441cf0663dbc752ef">timer</a>timer.update(self.<a class="code" href="classstages_1_1Clock.html#0320b7ccf534411559f3bfcc35f58a52">time</a>time / SECOND)
<a name="l00236"></a>00236         
<a name="l00237"></a>00237 
<a name="l00238"></a>00238     <span class="keyword">def </span>_beat(self):
<a name="l00239"></a>00239         Game._beat(self)
<a name="l00240"></a>00240         self.<a class="code" href="classstages_1_1Clock.html#0320b7ccf534411559f3bfcc35f58a52">time</a>time = self.<a class="code" href="classstages_1_1Clock.html#0210187075a02073bd1868de97200382">max_time</a>max_time
<a name="l00241"></a>00241         set_timer(TIMEEVENT, 0)
<a name="l00242"></a>00242         set_timer(TIMEEVENT, SECOND)
<a name="l00243"></a>00243 
<a name="l00244"></a>00244     <span class="keyword">def </span>_add_specific_labels(self):
<a name="l00245"></a>00245         text = <span class="stringliteral">"Time"</span>
<a name="l00246"></a>00246         font = pygame.font.Font(FONT1, 30)
<a name="l00247"></a>00247         w,h = font.size(text)
<a name="l00248"></a>00248         a = x_off + step * n1
<a name="l00249"></a>00249         x = a + (width - a - w) / 2 
<a name="l00250"></a>00250         y = y_off + 100
<a name="l00251"></a>00251         img = font.render(text, <span class="keyword">True</span>, score_color)
<a name="l00252"></a>00252         <span class="comment">#img = textOutline(font, text, score_color, black)</span>
<a name="l00253"></a>00253         self.background.blit(img, (x,y))
<a name="l00254"></a>00254 
<a name="l00255"></a><a class="code" href="classstages_1_1Clock.html#ed2fe2e11896ae4441cf0663dbc752ef">00255</a>         self.<a class="code" href="classstages_1_1Clock.html#ed2fe2e11896ae4441cf0663dbc752ef">timer</a>timer = Timer(w, x, y + h, 10)
<a name="l00256"></a>00256 
<a name="l00257"></a><a class="code" href="classstages_1_1Clock.html#fe97883b76c934f05102e5956c37212a">00257</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Clock.html#fe97883b76c934f05102e5956c37212a">next_level</a>(self):
<a name="l00258"></a>00258         Game.next_level(self)
<a name="l00259"></a>00259         self.<a class="code" href="classstages_1_1Clock.html#0210187075a02073bd1868de97200382">max_time</a>max_time -= SECOND
<a name="l00260"></a>00260         self.<a class="code" href="classstages_1_1Clock.html#910e66ad8d5c4cbca199fa9aacd6e0b3">_beat</a>_beat()
<a name="l00261"></a>00261         
<a name="l00262"></a>00262 
<a name="l00263"></a><a class="code" href="classstages_1_1Score.html">00263</a> <span class="keyword">class </span><a class="code" href="classstages_1_1Score.html">Score</a>(pygame.sprite.Sprite):
<a name="l00264"></a>00264     <span class="stringliteral">'''Points displayed at the screen'''</span>
<a name="l00265"></a>00265 
<a name="l00266"></a><a class="code" href="classstages_1_1Score.html#a2155301545408bb7f72e882ebd65b4a">00266</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Score.html#a2155301545408bb7f72e882ebd65b4a">__init__</a>(self, w, x, y, default = 0):
<a name="l00267"></a>00267         pygame.sprite.Sprite.__init__(self)
<a name="l00268"></a>00268 
<a name="l00269"></a><a class="code" href="classstages_1_1Score.html#8d088124231a4c569092377ff38fb629">00269</a>         self.<a class="code" href="classstages_1_1Score.html#8d088124231a4c569092377ff38fb629">font</a>font = pygame.font.Font(FONT1, 25)
<a name="l00270"></a>00270         
<a name="l00271"></a><a class="code" href="classstages_1_1Score.html#c475843b288aaaee2ea619ad751e4a39">00271</a>         self.<a class="code" href="classstages_1_1Score.html#c475843b288aaaee2ea619ad751e4a39">image</a>image = self.<a class="code" href="classstages_1_1Score.html#8d088124231a4c569092377ff38fb629">font</a>font.render(str(default), <span class="keyword">True</span>, score_color)
<a name="l00272"></a><a class="code" href="classstages_1_1Score.html#ccd0100a29bb2388df5ad8f8257b2460">00272</a>         self.<a class="code" href="classstages_1_1Score.html#ccd0100a29bb2388df5ad8f8257b2460">w</a>w = w
<a name="l00273"></a><a class="code" href="classstages_1_1Score.html#6972e7219a63c5a2131f985ee3c7c066">00273</a>         self.<a class="code" href="classstages_1_1Score.html#6972e7219a63c5a2131f985ee3c7c066">x</a>x = x
<a name="l00274"></a><a class="code" href="classstages_1_1Score.html#3243e88990d22d08bbaf643a773d280d">00274</a>         self.<a class="code" href="classstages_1_1Score.html#3243e88990d22d08bbaf643a773d280d">y</a>y = y
<a name="l00275"></a>00275         x += (w - self.<a class="code" href="classstages_1_1Score.html#c475843b288aaaee2ea619ad751e4a39">image</a>image.get_width()) / 2
<a name="l00276"></a>00276 
<a name="l00277"></a><a class="code" href="classstages_1_1Score.html#ec95b06d632f97aa56067d54479b9d6f">00277</a>         self.<a class="code" href="classstages_1_1Score.html#ec95b06d632f97aa56067d54479b9d6f">rect</a>rect = self.<a class="code" href="classstages_1_1Score.html#c475843b288aaaee2ea619ad751e4a39">image</a>image.get_rect(topleft=(x,y))
<a name="l00278"></a>00278         
<a name="l00279"></a><a class="code" href="classstages_1_1Score.html#68e4d7f543fabb373d1bc9981429f904">00279</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Score.html#68e4d7f543fabb373d1bc9981429f904">update</a>(self, points):
<a name="l00280"></a>00280         self.<a class="code" href="classstages_1_1Score.html#c475843b288aaaee2ea619ad751e4a39">image</a>image = self.<a class="code" href="classstages_1_1Score.html#8d088124231a4c569092377ff38fb629">font</a>font.render(str(points), <span class="keyword">True</span>, score_color)
<a name="l00281"></a>00281         x = self.<a class="code" href="classstages_1_1Score.html#6972e7219a63c5a2131f985ee3c7c066">x</a>x + (self.<a class="code" href="classstages_1_1Score.html#ccd0100a29bb2388df5ad8f8257b2460">w</a>w - self.<a class="code" href="classstages_1_1Score.html#c475843b288aaaee2ea619ad751e4a39">image</a>image.get_width()) / 2
<a name="l00282"></a>00282         self.<a class="code" href="classstages_1_1Score.html#ec95b06d632f97aa56067d54479b9d6f">rect</a>rect = self.<a class="code" href="classstages_1_1Score.html#c475843b288aaaee2ea619ad751e4a39">image</a>image.get_rect(topleft=(x,self.<a class="code" href="classstages_1_1Score.html#3243e88990d22d08bbaf643a773d280d">y</a>y))
<a name="l00283"></a>00283 
<a name="l00284"></a><a class="code" href="classstages_1_1Timer.html">00284</a> <span class="keyword">class </span><a class="code" href="classstages_1_1Timer.html">Timer</a>(pygame.sprite.Sprite):
<a name="l00285"></a>00285     <span class="stringliteral">'''Displayed at the screen your time at the Clock game'''</span>
<a name="l00286"></a>00286 
<a name="l00287"></a><a class="code" href="classstages_1_1Timer.html#3321984915203624209389a7b9bc57a7">00287</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Timer.html#3321984915203624209389a7b9bc57a7">__init__</a>(self, w, x, y, default):
<a name="l00288"></a>00288         pygame.sprite.Sprite.__init__(self)
<a name="l00289"></a>00289 
<a name="l00290"></a><a class="code" href="classstages_1_1Timer.html#0625e3fd8c745be9fb35fa98b8efce81">00290</a>         self.<a class="code" href="classstages_1_1Timer.html#0625e3fd8c745be9fb35fa98b8efce81">font</a>font = pygame.font.Font(FONT1, 25)
<a name="l00291"></a>00291         
<a name="l00292"></a><a class="code" href="classstages_1_1Timer.html#98e984eb8e2b113859ec0d2a3c96fde7">00292</a>         self.<a class="code" href="classstages_1_1Timer.html#98e984eb8e2b113859ec0d2a3c96fde7">image</a>image = self.<a class="code" href="classstages_1_1Timer.html#0625e3fd8c745be9fb35fa98b8efce81">font</a>font.render(str(default), <span class="keyword">True</span>, time_color)
<a name="l00293"></a><a class="code" href="classstages_1_1Timer.html#c4d35d5ab8a9ddb1091bd74aa0e880d7">00293</a>         self.<a class="code" href="classstages_1_1Timer.html#c4d35d5ab8a9ddb1091bd74aa0e880d7">w</a>w = w
<a name="l00294"></a><a class="code" href="classstages_1_1Timer.html#80a5a73ba8854916d596ec9735cf6d0e">00294</a>         self.<a class="code" href="classstages_1_1Timer.html#80a5a73ba8854916d596ec9735cf6d0e">x</a>x = x
<a name="l00295"></a><a class="code" href="classstages_1_1Timer.html#df1a7e0840cb89791b2ee8b52011a653">00295</a>         self.<a class="code" href="classstages_1_1Timer.html#df1a7e0840cb89791b2ee8b52011a653">y</a>y = y
<a name="l00296"></a>00296         x += (w - self.<a class="code" href="classstages_1_1Timer.html#98e984eb8e2b113859ec0d2a3c96fde7">image</a>image.get_width()) / 2
<a name="l00297"></a>00297 
<a name="l00298"></a><a class="code" href="classstages_1_1Timer.html#712873d49139e7cfd90172d701b4ed83">00298</a>         self.<a class="code" href="classstages_1_1Timer.html#712873d49139e7cfd90172d701b4ed83">rect</a>rect = self.<a class="code" href="classstages_1_1Timer.html#98e984eb8e2b113859ec0d2a3c96fde7">image</a>image.get_rect(topleft=(x,y))
<a name="l00299"></a>00299         
<a name="l00300"></a><a class="code" href="classstages_1_1Timer.html#9479465a8822a91ef27a6a2073c169be">00300</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Timer.html#9479465a8822a91ef27a6a2073c169be">update</a>(self, seconds):
<a name="l00301"></a>00301         self.<a class="code" href="classstages_1_1Timer.html#98e984eb8e2b113859ec0d2a3c96fde7">image</a>image = self.<a class="code" href="classstages_1_1Timer.html#0625e3fd8c745be9fb35fa98b8efce81">font</a>font.render(str(seconds), <span class="keyword">True</span>, time_color)
<a name="l00302"></a>00302         x = self.<a class="code" href="classstages_1_1Timer.html#80a5a73ba8854916d596ec9735cf6d0e">x</a>x + (self.<a class="code" href="classstages_1_1Timer.html#c4d35d5ab8a9ddb1091bd74aa0e880d7">w</a>w - self.<a class="code" href="classstages_1_1Timer.html#98e984eb8e2b113859ec0d2a3c96fde7">image</a>image.get_width()) / 2
<a name="l00303"></a>00303         self.<a class="code" href="classstages_1_1Timer.html#712873d49139e7cfd90172d701b4ed83">rect</a>rect = self.<a class="code" href="classstages_1_1Timer.html#98e984eb8e2b113859ec0d2a3c96fde7">image</a>image.get_rect(topleft=(x,self.<a class="code" href="classstages_1_1Timer.html#df1a7e0840cb89791b2ee8b52011a653">y</a>y))
<a name="l00304"></a>00304 
<a name="l00305"></a><a class="code" href="classstages_1_1StepCounter.html">00305</a> <span class="keyword">class </span><a class="code" href="classstages_1_1StepCounter.html">StepCounter</a>(pygame.sprite.Sprite):
<a name="l00306"></a>00306     <span class="stringliteral">'''Displayed at the screen your avaliable moves at Moves game'''</span>
<a name="l00307"></a>00307 
<a name="l00308"></a><a class="code" href="classstages_1_1StepCounter.html#c36c56cf373842371601b56fdecf0307">00308</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1StepCounter.html#c36c56cf373842371601b56fdecf0307">__init__</a>(self, w, x, y, default):
<a name="l00309"></a>00309         pygame.sprite.Sprite.__init__(self)
<a name="l00310"></a>00310 
<a name="l00311"></a><a class="code" href="classstages_1_1StepCounter.html#f9e3b1dade0bd6957cc4d69bddd78904">00311</a>         self.<a class="code" href="classstages_1_1StepCounter.html#f9e3b1dade0bd6957cc4d69bddd78904">font</a>font = pygame.font.Font(FONT1, 25)
<a name="l00312"></a>00312         
<a name="l00313"></a><a class="code" href="classstages_1_1StepCounter.html#da3a13731b35f97bb953e2d0bb903339">00313</a>         self.<a class="code" href="classstages_1_1StepCounter.html#da3a13731b35f97bb953e2d0bb903339">image</a>image = self.<a class="code" href="classstages_1_1StepCounter.html#f9e3b1dade0bd6957cc4d69bddd78904">font</a>font.render(str(default), <span class="keyword">True</span>, steps_color)
<a name="l00314"></a><a class="code" href="classstages_1_1StepCounter.html#fb7b17c5f695a3e5bec94976afbd1fc2">00314</a>         self.<a class="code" href="classstages_1_1StepCounter.html#fb7b17c5f695a3e5bec94976afbd1fc2">w</a>w = w
<a name="l00315"></a><a class="code" href="classstages_1_1StepCounter.html#ca4d426d359b753778553631802667e0">00315</a>         self.<a class="code" href="classstages_1_1StepCounter.html#ca4d426d359b753778553631802667e0">x</a>x = x
<a name="l00316"></a><a class="code" href="classstages_1_1StepCounter.html#b93e76d74765f002c202c92dbe4f1271">00316</a>         self.<a class="code" href="classstages_1_1StepCounter.html#b93e76d74765f002c202c92dbe4f1271">y</a>y = y
<a name="l00317"></a>00317         x += (w - self.<a class="code" href="classstages_1_1StepCounter.html#da3a13731b35f97bb953e2d0bb903339">image</a>image.get_width()) / 2
<a name="l00318"></a>00318 
<a name="l00319"></a><a class="code" href="classstages_1_1StepCounter.html#335493d365edc1d70d0bc6f6f27715ee">00319</a>         self.<a class="code" href="classstages_1_1StepCounter.html#335493d365edc1d70d0bc6f6f27715ee">rect</a>rect = self.<a class="code" href="classstages_1_1StepCounter.html#da3a13731b35f97bb953e2d0bb903339">image</a>image.get_rect(topleft=(x,y))
<a name="l00320"></a>00320         
<a name="l00321"></a><a class="code" href="classstages_1_1StepCounter.html#cb1e7c287dad8f2feb3e09d1c13ecd92">00321</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1StepCounter.html#cb1e7c287dad8f2feb3e09d1c13ecd92">update</a>(self, seconds):
<a name="l00322"></a>00322         self.<a class="code" href="classstages_1_1StepCounter.html#da3a13731b35f97bb953e2d0bb903339">image</a>image = self.<a class="code" href="classstages_1_1StepCounter.html#f9e3b1dade0bd6957cc4d69bddd78904">font</a>font.render(str(seconds), <span class="keyword">True</span>, steps_color)
<a name="l00323"></a>00323         x = self.<a class="code" href="classstages_1_1StepCounter.html#ca4d426d359b753778553631802667e0">x</a>x + (self.<a class="code" href="classstages_1_1StepCounter.html#fb7b17c5f695a3e5bec94976afbd1fc2">w</a>w - self.<a class="code" href="classstages_1_1StepCounter.html#da3a13731b35f97bb953e2d0bb903339">image</a>image.get_width()) / 2
<a name="l00324"></a>00324         self.<a class="code" href="classstages_1_1StepCounter.html#335493d365edc1d70d0bc6f6f27715ee">rect</a>rect = self.<a class="code" href="classstages_1_1StepCounter.html#da3a13731b35f97bb953e2d0bb903339">image</a>image.get_rect(topleft=(x,self.<a class="code" href="classstages_1_1StepCounter.html#b93e76d74765f002c202c92dbe4f1271">y</a>y))
<a name="l00325"></a>00325 
<a name="l00326"></a>00326 
<a name="l00327"></a>00327         
<a name="l00328"></a><a class="code" href="classstages_1_1Editor.html">00328</a> <span class="keyword">class </span><a class="code" href="classstages_1_1Editor.html">Editor</a>(<a class="code" href="classstages_1_1Stage.html">Stage</a>):
<a name="l00329"></a>00329     <span class="stringliteral">'''A life editor'''</span>
<a name="l00330"></a>00330 
<a name="l00331"></a><a class="code" href="classstages_1_1Editor.html#da2513eea973fdd1ac04e0924f04ace7">00331</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Editor.html#da2513eea973fdd1ac04e0924f04ace7">__init__</a>(self, clock, screen, bg, grid):
<a name="l00332"></a>00332         Stage.__init__(self, clock, screen, bg, grid)
<a name="l00333"></a><a class="code" href="classstages_1_1Editor.html#f28b5a2ed79d42b8a197e2e5b308ff58">00333</a>         self.<a class="code" href="classstages_1_1Editor.html#f28b5a2ed79d42b8a197e2e5b308ff58">sounds</a>sounds = {}
<a name="l00334"></a>00334         self.<a class="code" href="classstages_1_1Editor.html#f28b5a2ed79d42b8a197e2e5b308ff58">sounds</a>sounds[<span class="stringliteral">"bloop"</span>] = load_sound(BLOOP)
<a name="l00335"></a>00335         self.<a class="code" href="classstages_1_1Editor.html#d6740337de956111e64c115fc9b042cd">_add_labels</a>_add_labels()
<a name="l00336"></a>00336         self.redraw_group.add(self.<a class="code" href="classstages_1_1Editor.html#8a68c38070e7efb6c1e6ac8984d3b1cc">alive_cells</a>alive_cells)
<a name="l00337"></a><a class="code" href="classstages_1_1Editor.html#63f29052f91f405c77bd05572a6e7699">00337</a>         self.<a class="code" href="classstages_1_1Editor.html#63f29052f91f405c77bd05572a6e7699">done</a>done = <span class="keyword">False</span>
<a name="l00338"></a>00338 
<a name="l00339"></a>00339     <span class="keyword">def </span>_add_labels(self):
<a name="l00340"></a>00340         text = EDITOR_TITLE
<a name="l00341"></a>00341         font = pygame.font.Font(FONT1, 40)
<a name="l00342"></a>00342         w,h = font.size(text)
<a name="l00343"></a>00343         x = x_off + (n1 * step - w) / 2
<a name="l00344"></a>00344         y = (y_off - h) / 2
<a name="l00345"></a>00345         img = font.render(text, <span class="keyword">True</span>, title_color)
<a name="l00346"></a>00346         self.background.blit(img, (x,y))
<a name="l00347"></a>00347 
<a name="l00348"></a>00348         text = <span class="stringliteral">"Vivas"</span>
<a name="l00349"></a>00349         font = pygame.font.Font(FONT1, 30)
<a name="l00350"></a>00350         w,h = font.size(text)
<a name="l00351"></a>00351         a = x_off + step * n1
<a name="l00352"></a>00352         x = a + (width - a - w) / 2 
<a name="l00353"></a>00353         y = y_off + 100
<a name="l00354"></a>00354         img = font.render(text, <span class="keyword">True</span>, score_color)
<a name="l00355"></a>00355         self.background.blit(img, (x,y))
<a name="l00356"></a>00356 
<a name="l00357"></a><a class="code" href="classstages_1_1Editor.html#8a68c38070e7efb6c1e6ac8984d3b1cc">00357</a>         self.<a class="code" href="classstages_1_1Editor.html#8a68c38070e7efb6c1e6ac8984d3b1cc">alive_cells</a>alive_cells = AliveCells(w, x, y + h, 0)
<a name="l00358"></a>00358 
<a name="l00359"></a><a class="code" href="classstages_1_1Editor.html#641278f43aa3d4e559e9480dbaeff2ad">00359</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Editor.html#641278f43aa3d4e559e9480dbaeff2ad">update_sprites</a>(self):
<a name="l00360"></a>00360         self.<a class="code" href="classstages_1_1Editor.html#8a68c38070e7efb6c1e6ac8984d3b1cc">alive_cells</a>alive_cells.update(self.grid.alive_cells())
<a name="l00361"></a>00361 
<a name="l00362"></a><a class="code" href="classstages_1_1Editor.html#5a456411a34b631571ddf6cc9d80bb45">00362</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Editor.html#5a456411a34b631571ddf6cc9d80bb45">main_loop</a>(self):
<a name="l00363"></a>00363         <span class="keywordflow">while</span> <span class="keywordflow">not</span> self.<a class="code" href="classstages_1_1Editor.html#63f29052f91f405c77bd05572a6e7699">done</a>done:
<a name="l00364"></a>00364 
<a name="l00365"></a>00365             self.clock.tick(10) <span class="comment">#slower than 10 frame per second</span>
<a name="l00366"></a>00366 
<a name="l00367"></a>00367             <span class="keywordflow">for</span> event <span class="keywordflow">in</span> pygame.event.get():
<a name="l00368"></a>00368                 self.<a class="code" href="classstages_1_1Editor.html#37e36193427981df578f9b412fafdabc">control</a>control(event)
<a name="l00369"></a>00369 
<a name="l00370"></a>00370             self.screen.blit(self.background, (0,0))    
<a name="l00371"></a>00371             self.screen.blit(self.grid.image, self.grid.rect)
<a name="l00372"></a>00372             self.cells_group.draw(self.screen)
<a name="l00373"></a>00373             self.<a class="code" href="classstages_1_1Editor.html#641278f43aa3d4e559e9480dbaeff2ad">update_sprites</a>update_sprites()
<a name="l00374"></a>00374             self.redraw_group.draw(self.screen)
<a name="l00375"></a>00375             pygame.display.flip() <span class="comment"># USE UPDATE</span>
<a name="l00376"></a>00376 
<a name="l00377"></a><a class="code" href="classstages_1_1Editor.html#dad40111094a3e85f31d3320dd72dc61">00377</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Editor.html#dad40111094a3e85f31d3320dd72dc61">quit</a>(self):
<a name="l00378"></a>00378         self.<a class="code" href="classstages_1_1Editor.html#63f29052f91f405c77bd05572a6e7699">done</a>done = <span class="keyword">True</span>
<a name="l00379"></a>00379 
<a name="l00380"></a><a class="code" href="classstages_1_1Editor.html#37e36193427981df578f9b412fafdabc">00380</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Editor.html#37e36193427981df578f9b412fafdabc">control</a>(self, event):
<a name="l00381"></a>00381         Stage.control(self, event)
<a name="l00382"></a>00382 
<a name="l00383"></a>00383         <span class="keywordflow">if</span> event.type == KEYDOWN:
<a name="l00384"></a>00384             <span class="keywordflow">if</span> event.key <span class="keywordflow">in</span> (K_g, K_c):
<a name="l00385"></a>00385                 self.<a class="code" href="classstages_1_1Editor.html#57c017be147c9e6f7a7be4958819e24d">_persist_cells</a>_persist_cells(event.key)
<a name="l00386"></a>00386 
<a name="l00387"></a>00387         <span class="keywordflow">elif</span> event.type == MOUSEBUTTONDOWN:
<a name="l00388"></a>00388             i,j =  event.pos
<a name="l00389"></a>00389             i -= x_off
<a name="l00390"></a>00390             i /= step
<a name="l00391"></a>00391             j -= y_off
<a name="l00392"></a>00392             j /= step
<a name="l00393"></a>00393             
<a name="l00394"></a>00394             <span class="keywordflow">if</span> -1 &lt; i &lt; n1 <span class="keywordflow">and</span> -1 &lt; j &lt; n2:
<a name="l00395"></a>00395                 <span class="keywordflow">if</span> event.button == 1:
<a name="l00396"></a>00396                     self.grid.cells[i,j].birth_now()
<a name="l00397"></a>00397                     self.<a class="code" href="classstages_1_1Editor.html#f28b5a2ed79d42b8a197e2e5b308ff58">sounds</a>sounds[<span class="stringliteral">"bloop"</span>].play()
<a name="l00398"></a>00398                 <span class="keywordflow">elif</span> event.button == 3:
<a name="l00399"></a>00399                     self.grid.cells[i,j].die_now()
<a name="l00400"></a>00400                     self.<a class="code" href="classstages_1_1Editor.html#f28b5a2ed79d42b8a197e2e5b308ff58">sounds</a>sounds[<span class="stringliteral">"bloop"</span>].play()
<a name="l00401"></a>00401                     
<a name="l00402"></a>00402     <span class="keyword">def </span>_persist_cells(self, key):
<a name="l00403"></a>00403         
<a name="l00404"></a>00404         <span class="keywordflow">if</span> key == K_c:
<a name="l00405"></a>00405             name = raw_input(<span class="stringliteral">"Insert a name (Conway): "</span>)
<a name="l00406"></a>00406             kind = raw_input(<span class="stringliteral">"Insert a kind: "</span>)
<a name="l00407"></a>00407             period= raw_input(<span class="stringliteral">"Insert a period (if apply): "</span>)
<a name="l00408"></a>00408             cells = [k <span class="keywordflow">for</span> k <span class="keywordflow">in</span> self.grid.cells <span class="keywordflow">if</span> self.grid.cells[k].is_alive()]
<a name="l00409"></a>00409             o = Pattern(name, kind, period, cells)
<a name="l00410"></a>00410             file_name = os.path.join(CONWAY_CELLS, name + <span class="stringliteral">".pat"</span>)
<a name="l00411"></a>00411         <span class="keywordflow">elif</span> key == K_g:
<a name="l00412"></a>00412             name = raw_input(<span class="stringliteral">"Insert a name (game): "</span>)
<a name="l00413"></a>00413             o = [k <span class="keywordflow">for</span> k <span class="keywordflow">in</span> self.grid.cells <span class="keywordflow">if</span> self.grid.cells[k].is_alive()]
<a name="l00414"></a>00414             file_name = os.path.join(GAME_CELLS, name + <span class="stringliteral">".pob"</span>)
<a name="l00415"></a>00415             
<a name="l00416"></a>00416         f = file(file_name, <span class="stringliteral">'w'</span>)
<a name="l00417"></a>00417         pickle.dump(o,f)
<a name="l00418"></a>00418         f.close()
<a name="l00419"></a>00419 
<a name="l00420"></a>00420        
<a name="l00421"></a><a class="code" href="classstages_1_1Life.html">00421</a> <span class="keyword">class </span><a class="code" href="classstages_1_1Life.html">Life</a>(<a class="code" href="classstages_1_1Stage.html">Stage</a>):
<a name="l00422"></a>00422     <span class="stringliteral">'''Conway\'s Game of Life with lots of patterns'''</span>
<a name="l00423"></a>00423 
<a name="l00424"></a><a class="code" href="classstages_1_1Life.html#82cdce0cee31c57e47841fbc048116dc">00424</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Life.html#82cdce0cee31c57e47841fbc048116dc">__init__</a>(self, clock, screen, bg, grid):
<a name="l00425"></a>00425         Stage.__init__(self, clock, screen, bg, grid)
<a name="l00426"></a><a class="code" href="classstages_1_1Life.html#46067cb7fbd95f542240eb84929e1705">00426</a>         self.<a class="code" href="classstages_1_1Life.html#46067cb7fbd95f542240eb84929e1705">patterns</a>patterns = Circular(self.<a class="code" href="classstages_1_1Life.html#b566b12fc848108da6510c33a634e4e1">_load_patterns</a>_load_patterns())
<a name="l00427"></a>00427         self.<a class="code" href="classstages_1_1Life.html#15874ebbbffb7b9a0869f9f05216e699">_load_cells</a>_load_cells(self.<a class="code" href="classstages_1_1Life.html#46067cb7fbd95f542240eb84929e1705">patterns</a>patterns[0])
<a name="l00428"></a><a class="code" href="classstages_1_1Life.html#9acfbac5c54fc8b62e88358c33799b06">00428</a>         self.<a class="code" href="classstages_1_1Life.html#9acfbac5c54fc8b62e88358c33799b06">play_img</a>play_img = load_image(PLAY)
<a name="l00429"></a><a class="code" href="classstages_1_1Life.html#d50f2768220dbbaf0181d0392065a4b1">00429</a>         self.<a class="code" href="classstages_1_1Life.html#d50f2768220dbbaf0181d0392065a4b1">stop_img</a>stop_img = load_image(STOP)
<a name="l00430"></a><a class="code" href="classstages_1_1Life.html#9e5214f24549ecdc63ef0a82ae6b25e0">00430</a>         self.<a class="code" href="classstages_1_1Life.html#9e5214f24549ecdc63ef0a82ae6b25e0">prev_img</a>prev_img = load_image(PREV)
<a name="l00431"></a><a class="code" href="classstages_1_1Life.html#a2a89355a17fa5b2e876e387a186aa56">00431</a>         self.<a class="code" href="classstages_1_1Life.html#a2a89355a17fa5b2e876e387a186aa56">next_img</a>next_img = load_image(NEXT)
<a name="l00432"></a>00432         self.<a class="code" href="classstages_1_1Life.html#af2c5a51a1c5bf405bd4b98ca289f4ad">_add_labels</a>_add_labels()
<a name="l00433"></a>00433         self.redraw_group.add(self.<a class="code" href="classstages_1_1Life.html#c5fbd8f9cf379ce1b1f77a033f7a6f3b">alive_cells</a>alive_cells)
<a name="l00434"></a><a class="code" href="classstages_1_1Life.html#e9bea457a7240e45e15895baf4009fe0">00434</a>         self.<a class="code" href="classstages_1_1Life.html#e9bea457a7240e45e15895baf4009fe0">done</a>done = <span class="keyword">False</span>
<a name="l00435"></a>00435 
<a name="l00436"></a>00436     <span class="keyword">def </span>_load_patterns(self):
<a name="l00437"></a>00437         <span class="stringliteral">'''Return a list of persisted life patterns'''</span>
<a name="l00438"></a>00438 
<a name="l00439"></a>00439         pat_files = [p <span class="keywordflow">for</span> p <span class="keywordflow">in</span> os.listdir(CONWAY_CELLS) <span class="keywordflow">if</span> p.endswith(<span class="stringliteral">".pat"</span>)]
<a name="l00440"></a>00440         patterns = [pickle.load(open(os.path.join(CONWAY_CELLS, p))) <span class="keywordflow">for</span> p <span class="keywordflow">in</span> pat_files]
<a name="l00441"></a>00441         <span class="keywordflow">return</span> patterns
<a name="l00442"></a>00442 
<a name="l00443"></a>00443     <span class="keyword">def </span>_load_cells(self, pat):
<a name="l00444"></a>00444         self.grid.kill_all()
<a name="l00445"></a>00445         pob = pat.alive_cells
<a name="l00446"></a>00446         self.grid.add_living_cells(pob)
<a name="l00447"></a>00447 
<a name="l00448"></a>00448     <span class="keyword">def </span>_add_labels(self):
<a name="l00449"></a>00449         text = LIFE_TITLE
<a name="l00450"></a>00450         font = pygame.font.Font(FONT1, 40)
<a name="l00451"></a>00451         w,h = font.size(text)
<a name="l00452"></a>00452         x = x_off + (n1 * step - w) / 2
<a name="l00453"></a>00453         y = (y_off - h) / 2
<a name="l00454"></a>00454         img = font.render(text, <span class="keyword">True</span>, title_color)
<a name="l00455"></a>00455         self.background.blit(img, (x,y))
<a name="l00456"></a>00456 
<a name="l00457"></a>00457         text = <span class="stringliteral">"Vivas"</span>
<a name="l00458"></a>00458         font = pygame.font.Font(FONT1, 30)
<a name="l00459"></a>00459         w,h = font.size(text)
<a name="l00460"></a>00460         a = x_off + step * n1
<a name="l00461"></a>00461         x = a + (width - a - w) / 2 
<a name="l00462"></a>00462         y = y_off + 100
<a name="l00463"></a>00463         img = font.render(text, <span class="keyword">True</span>, color4)
<a name="l00464"></a>00464         self.background.blit(img, (x,y))
<a name="l00465"></a>00465 
<a name="l00466"></a><a class="code" href="classstages_1_1Life.html#c5fbd8f9cf379ce1b1f77a033f7a6f3b">00466</a>         self.<a class="code" href="classstages_1_1Life.html#c5fbd8f9cf379ce1b1f77a033f7a6f3b">alive_cells</a>alive_cells = AliveCells(w, x, y + h, 0)
<a name="l00467"></a>00467 
<a name="l00468"></a>00468         y += 2 * h
<a name="l00469"></a>00469         bw = self.<a class="code" href="classstages_1_1Life.html#9acfbac5c54fc8b62e88358c33799b06">play_img</a>play_img.get_rect().width
<a name="l00470"></a>00470         x = x + (w - 2 * bw) / 2
<a name="l00471"></a><a class="code" href="classstages_1_1Life.html#23586b5b918eef0cefd3280f97d78ed5">00471</a>         self.<a class="code" href="classstages_1_1Life.html#23586b5b918eef0cefd3280f97d78ed5">play_rect</a>play_rect = self.<a class="code" href="classstages_1_1Life.html#9acfbac5c54fc8b62e88358c33799b06">play_img</a>play_img.get_rect().move(x,y)
<a name="l00472"></a><a class="code" href="classstages_1_1Life.html#52089c91d1657c21aa7dfbfdba8f1749">00472</a>         self.<a class="code" href="classstages_1_1Life.html#52089c91d1657c21aa7dfbfdba8f1749">stop_rect</a>stop_rect = self.<a class="code" href="classstages_1_1Life.html#d50f2768220dbbaf0181d0392065a4b1">stop_img</a>stop_img.get_rect().move(x+bw,y)
<a name="l00473"></a>00473         y += self.<a class="code" href="classstages_1_1Life.html#9acfbac5c54fc8b62e88358c33799b06">play_img</a>play_img.get_rect().height
<a name="l00474"></a><a class="code" href="classstages_1_1Life.html#2b0a054fbe3950b3d60ca094fcdcd304">00474</a>         self.<a class="code" href="classstages_1_1Life.html#2b0a054fbe3950b3d60ca094fcdcd304">prev_rect</a>prev_rect = self.<a class="code" href="classstages_1_1Life.html#9e5214f24549ecdc63ef0a82ae6b25e0">prev_img</a>prev_img.get_rect().move(x,y)
<a name="l00475"></a><a class="code" href="classstages_1_1Life.html#157293afd05126f5b6b029cac70ebf81">00475</a>         self.<a class="code" href="classstages_1_1Life.html#157293afd05126f5b6b029cac70ebf81">next_rect</a>next_rect = self.<a class="code" href="classstages_1_1Life.html#a2a89355a17fa5b2e876e387a186aa56">next_img</a>next_img.get_rect().move(x+bw,y)
<a name="l00476"></a>00476 
<a name="l00477"></a>00477         self.background.blit(self.<a class="code" href="classstages_1_1Life.html#9acfbac5c54fc8b62e88358c33799b06">play_img</a>play_img, self.<a class="code" href="classstages_1_1Life.html#23586b5b918eef0cefd3280f97d78ed5">play_rect</a>play_rect)
<a name="l00478"></a>00478         self.background.blit(self.<a class="code" href="classstages_1_1Life.html#d50f2768220dbbaf0181d0392065a4b1">stop_img</a>stop_img, self.<a class="code" href="classstages_1_1Life.html#52089c91d1657c21aa7dfbfdba8f1749">stop_rect</a>stop_rect)
<a name="l00479"></a>00479         self.background.blit(self.<a class="code" href="classstages_1_1Life.html#9e5214f24549ecdc63ef0a82ae6b25e0">prev_img</a>prev_img, self.<a class="code" href="classstages_1_1Life.html#2b0a054fbe3950b3d60ca094fcdcd304">prev_rect</a>prev_rect)
<a name="l00480"></a>00480         self.background.blit(self.<a class="code" href="classstages_1_1Life.html#a2a89355a17fa5b2e876e387a186aa56">next_img</a>next_img, self.<a class="code" href="classstages_1_1Life.html#157293afd05126f5b6b029cac70ebf81">next_rect</a>next_rect) 
<a name="l00481"></a>00481 
<a name="l00482"></a>00482 
<a name="l00483"></a><a class="code" href="classstages_1_1Life.html#c01c0a6249b083dc89e3d4d74c22460b">00483</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Life.html#c01c0a6249b083dc89e3d4d74c22460b">update_sprites</a>(self):
<a name="l00484"></a>00484         self.<a class="code" href="classstages_1_1Life.html#c5fbd8f9cf379ce1b1f77a033f7a6f3b">alive_cells</a>alive_cells.update(self.grid.alive_cells())
<a name="l00485"></a>00485 
<a name="l00486"></a><a class="code" href="classstages_1_1Life.html#43a7103a9248e35ee309cb70dc7aab23">00486</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Life.html#43a7103a9248e35ee309cb70dc7aab23">main_loop</a>(self):
<a name="l00487"></a>00487         <span class="keywordflow">while</span> <span class="keywordflow">not</span> self.<a class="code" href="classstages_1_1Life.html#e9bea457a7240e45e15895baf4009fe0">done</a>done:
<a name="l00488"></a>00488 
<a name="l00489"></a>00489             self.clock.tick(10) <span class="comment">#slower than 10 frame per second</span>
<a name="l00490"></a>00490 
<a name="l00491"></a>00491             <span class="keywordflow">for</span> event <span class="keywordflow">in</span> pygame.event.get():
<a name="l00492"></a>00492                 self.<a class="code" href="classstages_1_1Life.html#cce7f9794131d491e3c07d8c6f21b803">control</a>control(event)
<a name="l00493"></a>00493 
<a name="l00494"></a>00494             self.screen.blit(self.background, (0,0))    
<a name="l00495"></a>00495             self.screen.blit(self.grid.image, self.grid.rect)
<a name="l00496"></a>00496             self.cells_group.draw(self.screen)
<a name="l00497"></a>00497             self.<a class="code" href="classstages_1_1Life.html#c01c0a6249b083dc89e3d4d74c22460b">update_sprites</a>update_sprites()
<a name="l00498"></a>00498             self.redraw_group.draw(self.screen)
<a name="l00499"></a>00499             pygame.display.flip() <span class="comment"># USE UPDATE</span>
<a name="l00500"></a>00500 
<a name="l00501"></a><a class="code" href="classstages_1_1Life.html#fc81b765bc8ebb4799b34088b19cae91">00501</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Life.html#fc81b765bc8ebb4799b34088b19cae91">quit</a>(self):
<a name="l00502"></a>00502         self.<a class="code" href="classstages_1_1Life.html#e9bea457a7240e45e15895baf4009fe0">done</a>done = <span class="keyword">True</span>
<a name="l00503"></a>00503 
<a name="l00504"></a><a class="code" href="classstages_1_1Life.html#cce7f9794131d491e3c07d8c6f21b803">00504</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Life.html#cce7f9794131d491e3c07d8c6f21b803">control</a>(self, event):
<a name="l00505"></a>00505         Stage.control(self, event)
<a name="l00506"></a>00506 
<a name="l00507"></a>00507         <span class="keywordflow">if</span> event.type == MOUSEBUTTONDOWN:
<a name="l00508"></a>00508             i,j = event.pos
<a name="l00509"></a>00509             <span class="keywordflow">if</span> self.<a class="code" href="classstages_1_1Life.html#23586b5b918eef0cefd3280f97d78ed5">play_rect</a>play_rect.collidepoint(i,j):
<a name="l00510"></a>00510                 self.<a class="code" href="classstages_1_1Life.html#c260b6cbd10a0e639cfa29b1b561692b">play</a>play()
<a name="l00511"></a>00511             <span class="keywordflow">elif</span> self.<a class="code" href="classstages_1_1Life.html#52089c91d1657c21aa7dfbfdba8f1749">stop_rect</a>stop_rect.collidepoint(i,j):
<a name="l00512"></a>00512                 self.<a class="code" href="classstages_1_1Life.html#9e16f075617d2b10c39c6f1a7452c570">stop</a>stop()
<a name="l00513"></a>00513             <span class="keywordflow">elif</span> self.<a class="code" href="classstages_1_1Life.html#2b0a054fbe3950b3d60ca094fcdcd304">prev_rect</a>prev_rect.collidepoint(i,j):
<a name="l00514"></a>00514                 self.<a class="code" href="classstages_1_1Life.html#3aa5492d773e7ad16dd6f485f5e49e90">prev</a>prev()
<a name="l00515"></a>00515             <span class="keywordflow">elif</span> self.<a class="code" href="classstages_1_1Life.html#157293afd05126f5b6b029cac70ebf81">next_rect</a>next_rect.collidepoint(i,j):
<a name="l00516"></a>00516                 self.<a class="code" href="classstages_1_1Life.html#638f07ddccf8e246dd896f2c2e8bbf8e">next</a>next()
<a name="l00517"></a>00517         <span class="keywordflow">if</span> event.type == TIMEEVENT:
<a name="l00518"></a>00518             self._beat()
<a name="l00519"></a>00519 
<a name="l00520"></a><a class="code" href="classstages_1_1Life.html#c260b6cbd10a0e639cfa29b1b561692b">00520</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Life.html#c260b6cbd10a0e639cfa29b1b561692b">play</a>(self):
<a name="l00521"></a>00521         set_timer(TIMEEVENT, SECOND/2)
<a name="l00522"></a>00522 
<a name="l00523"></a><a class="code" href="classstages_1_1Life.html#9e16f075617d2b10c39c6f1a7452c570">00523</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Life.html#9e16f075617d2b10c39c6f1a7452c570">stop</a>(self):
<a name="l00524"></a>00524         set_timer(TIMEEVENT, 0)
<a name="l00525"></a>00525 
<a name="l00526"></a><a class="code" href="classstages_1_1Life.html#3aa5492d773e7ad16dd6f485f5e49e90">00526</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Life.html#3aa5492d773e7ad16dd6f485f5e49e90">prev</a>(self):
<a name="l00527"></a>00527         pat = self.<a class="code" href="classstages_1_1Life.html#46067cb7fbd95f542240eb84929e1705">patterns</a>patterns.prev()
<a name="l00528"></a>00528         self.<a class="code" href="classstages_1_1Life.html#15874ebbbffb7b9a0869f9f05216e699">_load_cells</a>_load_cells(pat)
<a name="l00529"></a>00529 
<a name="l00530"></a><a class="code" href="classstages_1_1Life.html#638f07ddccf8e246dd896f2c2e8bbf8e">00530</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Life.html#638f07ddccf8e246dd896f2c2e8bbf8e">next</a>(self):
<a name="l00531"></a>00531         pat = self.<a class="code" href="classstages_1_1Life.html#46067cb7fbd95f542240eb84929e1705">patterns</a>patterns.next()
<a name="l00532"></a>00532         self.<a class="code" href="classstages_1_1Life.html#15874ebbbffb7b9a0869f9f05216e699">_load_cells</a>_load_cells(pat)
<a name="l00533"></a>00533 
<a name="l00534"></a><a class="code" href="classstages_1_1AliveCells.html">00534</a> <span class="keyword">class </span><a class="code" href="classstages_1_1AliveCells.html">AliveCells</a>(pygame.sprite.Sprite):
<a name="l00535"></a>00535     <span class="stringliteral">'''Number of alive cells in the grid'''</span>
<a name="l00536"></a>00536 
<a name="l00537"></a><a class="code" href="classstages_1_1AliveCells.html#1149815793d4df979c5490f165838095">00537</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1AliveCells.html#1149815793d4df979c5490f165838095">__init__</a>(self, w, x, y, default = 0):
<a name="l00538"></a>00538         pygame.sprite.Sprite.__init__(self)
<a name="l00539"></a>00539 
<a name="l00540"></a><a class="code" href="classstages_1_1AliveCells.html#cb608fdcc42c03cc9f7e993704e1dba8">00540</a>         self.<a class="code" href="classstages_1_1AliveCells.html#cb608fdcc42c03cc9f7e993704e1dba8">font</a>font = pygame.font.Font(FONT1, 25)
<a name="l00541"></a>00541         
<a name="l00542"></a><a class="code" href="classstages_1_1AliveCells.html#6d0b9d8c8b912c57985331bbed3dbb91">00542</a>         self.<a class="code" href="classstages_1_1AliveCells.html#6d0b9d8c8b912c57985331bbed3dbb91">image</a>image = self.<a class="code" href="classstages_1_1AliveCells.html#cb608fdcc42c03cc9f7e993704e1dba8">font</a>font.render(str(default), <span class="keyword">True</span>, color3)
<a name="l00543"></a><a class="code" href="classstages_1_1AliveCells.html#d41f107c707b10ae59f470c86dce366a">00543</a>         self.<a class="code" href="classstages_1_1AliveCells.html#d41f107c707b10ae59f470c86dce366a">w</a>w = w
<a name="l00544"></a><a class="code" href="classstages_1_1AliveCells.html#d8e464b2858290c085b5fb14edd1f108">00544</a>         self.<a class="code" href="classstages_1_1AliveCells.html#d8e464b2858290c085b5fb14edd1f108">x</a>x = x
<a name="l00545"></a><a class="code" href="classstages_1_1AliveCells.html#c350e11dcfdd4763a513c9029055603a">00545</a>         self.<a class="code" href="classstages_1_1AliveCells.html#c350e11dcfdd4763a513c9029055603a">y</a>y = y
<a name="l00546"></a>00546         x += (w - self.<a class="code" href="classstages_1_1AliveCells.html#6d0b9d8c8b912c57985331bbed3dbb91">image</a>image.get_width()) / 2
<a name="l00547"></a>00547 
<a name="l00548"></a><a class="code" href="classstages_1_1AliveCells.html#26d18946a8faea4ad9acef58849e8cbe">00548</a>         self.<a class="code" href="classstages_1_1AliveCells.html#26d18946a8faea4ad9acef58849e8cbe">rect</a>rect = self.<a class="code" href="classstages_1_1AliveCells.html#6d0b9d8c8b912c57985331bbed3dbb91">image</a>image.get_rect(topleft=(x,y))
<a name="l00549"></a>00549         
<a name="l00550"></a><a class="code" href="classstages_1_1AliveCells.html#4299b6e003ccf75269e35371329d2efa">00550</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1AliveCells.html#4299b6e003ccf75269e35371329d2efa">update</a>(self, cells):
<a name="l00551"></a>00551         self.<a class="code" href="classstages_1_1AliveCells.html#6d0b9d8c8b912c57985331bbed3dbb91">image</a>image = self.<a class="code" href="classstages_1_1AliveCells.html#cb608fdcc42c03cc9f7e993704e1dba8">font</a>font.render(str(cells), <span class="keyword">True</span>, color3)
<a name="l00552"></a>00552         x = self.<a class="code" href="classstages_1_1AliveCells.html#d8e464b2858290c085b5fb14edd1f108">x</a>x + (self.<a class="code" href="classstages_1_1AliveCells.html#d41f107c707b10ae59f470c86dce366a">w</a>w - self.<a class="code" href="classstages_1_1AliveCells.html#6d0b9d8c8b912c57985331bbed3dbb91">image</a>image.get_width()) / 2
<a name="l00553"></a>00553         self.<a class="code" href="classstages_1_1AliveCells.html#26d18946a8faea4ad9acef58849e8cbe">rect</a>rect = self.<a class="code" href="classstages_1_1AliveCells.html#6d0b9d8c8b912c57985331bbed3dbb91">image</a>image.get_rect(topleft=(x,self.<a class="code" href="classstages_1_1AliveCells.html#c350e11dcfdd4763a513c9029055603a">y</a>y))
<a name="l00554"></a>00554             
<a name="l00555"></a><a class="code" href="classstages_1_1Generation.html">00555</a> <span class="keyword">class </span><a class="code" href="classstages_1_1Generation.html">Generation</a>(pygame.sprite.Sprite):
<a name="l00556"></a>00556     <span class="stringliteral">'''Number of the current generation'''</span>
<a name="l00557"></a>00557 
<a name="l00558"></a><a class="code" href="classstages_1_1Generation.html#0be44d6acaa9301635c454899425454d">00558</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Generation.html#0be44d6acaa9301635c454899425454d">__init__</a>(self, w, x, y, default = 0):
<a name="l00559"></a>00559         pygame.sprite.Sprite.__init__(self)
<a name="l00560"></a>00560 
<a name="l00561"></a><a class="code" href="classstages_1_1Generation.html#258a54a46ff380d75e4e0f647e61086e">00561</a>         self.<a class="code" href="classstages_1_1Generation.html#258a54a46ff380d75e4e0f647e61086e">font</a>font = pygame.font.Font(FONT1, 25)
<a name="l00562"></a>00562         
<a name="l00563"></a><a class="code" href="classstages_1_1Generation.html#4fd007a2ea42a77624e550f68d84a376">00563</a>         self.<a class="code" href="classstages_1_1Generation.html#4fd007a2ea42a77624e550f68d84a376">image</a>image = self.<a class="code" href="classstages_1_1Generation.html#258a54a46ff380d75e4e0f647e61086e">font</a>font.render(str(default), <span class="keyword">True</span>, color3)
<a name="l00564"></a><a class="code" href="classstages_1_1Generation.html#3e70d2715d8ee517f9e3fa0f90f0f215">00564</a>         self.<a class="code" href="classstages_1_1Generation.html#3e70d2715d8ee517f9e3fa0f90f0f215">w</a>w = w
<a name="l00565"></a><a class="code" href="classstages_1_1Generation.html#eabccadf7ef4245bcd114b127217a2fc">00565</a>         self.<a class="code" href="classstages_1_1Generation.html#eabccadf7ef4245bcd114b127217a2fc">x</a>x = x
<a name="l00566"></a><a class="code" href="classstages_1_1Generation.html#0fcb887ff096482e957800a9ed6314cb">00566</a>         self.<a class="code" href="classstages_1_1Generation.html#0fcb887ff096482e957800a9ed6314cb">y</a>y = y
<a name="l00567"></a>00567         x += (w - self.<a class="code" href="classstages_1_1Generation.html#4fd007a2ea42a77624e550f68d84a376">image</a>image.get_width()) / 2
<a name="l00568"></a>00568 
<a name="l00569"></a><a class="code" href="classstages_1_1Generation.html#f7122458e4bf547e0d6cd45bc37dbf1b">00569</a>         self.<a class="code" href="classstages_1_1Generation.html#f7122458e4bf547e0d6cd45bc37dbf1b">rect</a>rect = self.<a class="code" href="classstages_1_1Generation.html#4fd007a2ea42a77624e550f68d84a376">image</a>image.get_rect(topleft=(x,y))
<a name="l00570"></a>00570         
<a name="l00571"></a><a class="code" href="classstages_1_1Generation.html#4d0f95714ce0a2b33916bc4a87aa0cc3">00571</a>     <span class="keyword">def </span><a class="code" href="classstages_1_1Generation.html#4d0f95714ce0a2b33916bc4a87aa0cc3">update</a>(self, generation):
<a name="l00572"></a>00572         self.<a class="code" href="classstages_1_1Generation.html#4fd007a2ea42a77624e550f68d84a376">image</a>image = self.<a class="code" href="classstages_1_1Generation.html#258a54a46ff380d75e4e0f647e61086e">font</a>font.render(str(generation), <span class="keyword">True</span>, color3)
<a name="l00573"></a>00573         x = self.<a class="code" href="classstages_1_1Generation.html#eabccadf7ef4245bcd114b127217a2fc">x</a>x + (self.<a class="code" href="classstages_1_1Generation.html#3e70d2715d8ee517f9e3fa0f90f0f215">w</a>w - self.<a class="code" href="classstages_1_1Generation.html#4fd007a2ea42a77624e550f68d84a376">image</a>image.get_width()) / 2
<a name="l00574"></a>00574         self.<a class="code" href="classstages_1_1Generation.html#f7122458e4bf547e0d6cd45bc37dbf1b">rect</a>rect = self.<a class="code" href="classstages_1_1Generation.html#4fd007a2ea42a77624e550f68d84a376">image</a>image.get_rect(topleft=(x,self.<a class="code" href="classstages_1_1Generation.html#0fcb887ff096482e957800a9ed6314cb">y</a>y))
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Sun Mar 4 16:04:59 2007 for Life Fighter by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1 </small></address>
</body>
</html>
